import{u as f,r as i,j as e,L as d,f as l}from"./index-B-IXA8Ie.js";import{c as s,A as v}from"./style.module-C_eB6G_M.js";import{W as g}from"./WebsiteWrapper-ANLKjAv_.js";import"./index.esm-BbyRK8SJ.js";import"./iconBase-3hUsnpgH.js";import"./useDispatch-C5OFXrAN.js";import"./rolling-white-BBE_8u84.js";import"./index.esm-Cs3NBBGY.js";import"./Button-BCsCTVJR.js";import"./index.esm-B8E9HluU.js";const P=()=>{const{id:c}=f();console.log(c),i.useState({});const[m,h]=i.useState([]),[p,x]=i.useState(!0);return i.useEffect(()=>{(async()=>{try{await(async j=>{try{const t=await l.get(`https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/posts?categories=${j}`);console.log(t.data);const u=await Promise.all(t.data.map(async a=>{try{const o=await l.get(`https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/media/${a.featured_media}`);return console.log("Media Response for Post ID",a.id,o.data),{...a,featuredMedia:o.data}}catch(o){return console.error("Error fetching featured media for Post ID",a.id,o),{...a,featuredMedia:null}}finally{x(!1)}}));h(u)}catch(t){console.error("Error fetching category blogs:",t)}})(c)}catch(n){console.error("Error fetching data:",n)}})()},[c]),p?e.jsx(g,{children:e.jsx("div",{className:s["recent-blogs-wrapper-loading"],children:e.jsx("div",{className:s.loading,children:e.jsx("h1",{children:"....Loading"})})})}):e.jsx(g,{children:e.jsx("div",{className:"wrapper",children:e.jsx("div",{className:s["recent-blogs-wrapper"],children:e.jsx("div",{children:e.jsx("div",{className:s["category-wrapper"],children:e.jsx("div",{className:s["blogs-container"],children:m.map(r=>e.jsxs("div",{className:s["blog-cards"],children:[e.jsx("div",{className:s["blog-thumbnail"],children:r.featuredMedia&&e.jsx(d,{to:`/single-blog/${r.id}`,children:e.jsx("img",{src:r.featuredMedia.source_url,alt:"Image"})})}),e.jsxs("div",{className:s["blog-content"],children:[e.jsx("div",{className:s["authoring-date"],children:e.jsx("span",{children:new Date(r.date).toLocaleDateString()})}),e.jsx("div",{className:s["blog-name"],children:e.jsx("h5",{children:e.jsx(d,{to:`/single-blog/${r.id}`,children:r.title.rendered})})}),e.jsx("div",{className:s["read-more"],children:e.jsxs(d,{to:`/single-blog/${r.id}`,children:["Read moreÂ ",e.jsx(v,{})]})})]})]},r.id))})})})})})})};export{P as default};
