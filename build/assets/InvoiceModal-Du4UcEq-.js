import{j as s}from"./index-DmceSUEu.js";import{a as u}from"./index.esm-Btv2RgTK.js";import{h as N}from"./jspdf-html2canvas.min-DV9-5cxe.js";import"./index-CyJCqZ_n.js";import{f as b}from"./index-DSEmMwTb.js";const f="_container_1su4d_1",v="_invoice_box_wrapper_1su4d_27",g="_invoice_box_1su4d_27",w="_icon_1su4d_57",y="_invoice_top_1su4d_73",D="_logo_1su4d_85",k="_info_1su4d_95",I="_h3_1su4d_103",P="_p_1su4d_113",T="_h1_1su4d_121",F="_invoice_detail_1su4d_131",M="_table_wrapper_1su4d_145",$="_tr_1su4d_157",q="_ml_1su4d_209",C="_input_1su4d_237",R="_description_1su4d_251",A="_invoice_bottom_calculation_1su4d_271",B="_d_flex_1su4d_283",K="_button_wrapper_1su4d_297",L="_button_1su4d_297",S="_invoice_top_right_1su4d_357",e={container:f,invoice_box_wrapper:v,invoice_box:g,icon:w,invoice_top:y,logo:D,info:k,h3:I,p:P,h1:T,invoice_detail:F,table_wrapper:M,tr:$,ml:q,input:C,description:R,invoice_bottom_calculation:A,d_flex:B,button_wrapper:K,button:L,invoice_top_right:S},V="/assets/Main%20Logo%20V1-02-BKTUwriK.png",G=({setIsInvoiceModalOpen:x,invoice:c,state:l})=>{var n,r,d,o,i,_,t,p,m;console.log(c);const h=()=>{N(document.querySelector("#invoice_box"),{jsPDF:{format:"a4"},imageType:"image/jpeg",output:"./pdf/generate.pdf"})};return s.jsx("div",{className:e.container,children:s.jsxs("div",{className:e.invoice_box_wrapper,children:[s.jsx(u,{onClick:()=>x(!1),className:e.icon}),s.jsxs("div",{className:e.invoice_box,id:"invoice_box",children:[s.jsxs("div",{className:e.invoice_top,children:[s.jsxs("div",{className:e.invoice_top_left,children:[s.jsx("img",{className:e.logo,src:V,alt:"logo"}),s.jsxs("div",{className:e.info,children:[s.jsx("b",{children:"From"}),s.jsx("h5",{className:e.h3,children:"AbhiCares"}),s.jsx("p",{className:e.p,children:"Name"}),s.jsx("p",{className:e.p,children:"email@gmail.com"}),s.jsx("p",{className:e.p,children:"1234567890"}),s.jsx("p",{className:e.p,children:"address"})]})]}),s.jsxs("div",{className:e.invoice_top_right,children:[s.jsx("h1",{className:e.h1,children:"Invoice"}),s.jsxs("div",{className:e.invoice_detail,children:[s.jsxs("div",{className:e.invoice_detail_left,children:[s.jsx("p",{className:e.p,children:"Invoice No"}),s.jsx("p",{className:e.p,children:"Invoice Date"})]}),s.jsxs("div",{className:e.invoice_detail_left,children:[s.jsxs("p",{className:e.p,children:["# ",l._id]}),s.jsx("p",{className:e.p,children:b(new Date(l.createdAt),"dd-MM-yyyy")})]})]}),s.jsx("b",{children:"Bill to"}),s.jsx("h5",{className:e.h3,children:(n=c==null?void 0:c.user)==null?void 0:n.name}),s.jsx("p",{className:e.p,children:(r=c==null?void 0:c.user)==null?void 0:r.phone}),s.jsx("p",{className:e.p,children:`${(o=(d=c==null?void 0:c.user)==null?void 0:d.address)==null?void 0:o.addressLine}, ${(_=(i=c==null?void 0:c.user)==null?void 0:i.address)==null?void 0:_.landmark}, ${(p=(t=c==null?void 0:c.user)==null?void 0:t.address)==null?void 0:p.pincode}`})]})]}),s.jsxs("div",{className:e.invoice_bottom,children:[s.jsx("div",{className:e.table_wrapper,children:s.jsxs("table",{className:"",children:[s.jsx("thead",{children:s.jsxs("tr",{className:e.tr,children:[s.jsx("th",{className:e.ml,children:"Product Name"}),s.jsx("th",{className:e.ml,children:"Quantity"}),s.jsx("th",{className:e.ml,children:"Price"})]})}),s.jsx("tbody",{children:(m=c==null?void 0:c.items)==null?void 0:m.map((a,j)=>s.jsxs("tr",{className:e.tr,children:[s.jsx("td",{className:e.ml,children:s.jsx("p",{children:a.package?a.package.name:a.product.name})}),s.jsx("td",{className:e.ml,children:s.jsx("p",{children:a.quantity})}),s.jsx("td",{className:e.ml,children:s.jsxs("p",{children:["₹ ",Number(a.package?a.package.offerPrice:a.product.offerPrice)*Number(a.quantity)]})})]},j))})]})}),s.jsx("div",{className:e.invoice_bottom_calculation,children:s.jsxs("div",{className:e.invoice_bottom_calculation_left,children:[s.jsxs("div",{className:e.d_flex,children:[s.jsx("b",{children:"Subtotal:"}),s.jsxs("p",{children:["₹ ",c.itemTotal]})]}),s.jsxs("div",{className:e.d_flex,children:[s.jsx("b",{children:"Tax Rate (18%):"}),s.jsxs("p",{children:["₹",l==null?void 0:l.tax]})]}),(l==null?void 0:l.discount)>0&&s.jsxs("div",{className:e.d_flex,children:[s.jsx("b",{children:"Discount:"}),s.jsxs("p",{children:["₹ ",l==null?void 0:l.discount]})]}),(l==null?void 0:l.referalDiscount)>0&&s.jsxs("div",{className:e.d_flex,children:[s.jsx("b",{children:"Referal Discount:"}),s.jsxs("p",{children:["₹ ",l==null?void 0:l.referalDiscount]})]}),s.jsxs("div",{className:e.d_flex,children:[s.jsx("b",{children:"Total:"}),s.jsxs("p",{children:["₹ ",c.orderValue]})]})]})})]})]}),s.jsx("div",{className:e.button_wrapper,children:s.jsx("button",{onClick:h,className:e.button,children:"Download Invoice"})})]})})};export{G as I};
