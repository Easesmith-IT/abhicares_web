import{r as o,j as e,e as f,u as O,_ as N}from"./index-DkoRNXTn.js";import{c as m}from"./Modal.module-xeZ_p1n2.js";import{b as q}from"./index.esm-Big-ue6h.js";import{A as F}from"./LogoutModal-CkNuOxDX.js";import{W as $}from"./WebsiteWrapper-O6toN-ff.js";import{L as A}from"./Loader-DVwzzA9D.js";import{T as g}from"./TimeLine-CW9ZpmoP.js";import{f as E}from"./index-BWTSNkdF.js";import"./iconBase-CHCpDIrE.js";import"./rolling-white-BBE_8u84.js";import"./index.esm-D7-djBWb.js";import"./Button-C-h4fBKa.js";const M="_help_center_ri9v2_1",T="_help_center_title_ri9v2_19",D="_box_ri9v2_27",L="_input_box_ri9v2_63",P="_input_ri9v2_63",W="_d_flex_ri9v2_105",V="_multi_select_ri9v2_117",B="_label_ri9v2_163",R="_button_wrapper_ri9v2_179",z="_button_ri9v2_179",G="_h3_ri9v2_221",J="_issues_container_ri9v2_229",K="_issue_ri9v2_229",Q="_issues_ri9v2_229",U="_in_review_ri9v2_275",X="_solved_ri9v2_287",Y="_raised_ri9v2_301",Z="_modal_overlay_ri9v2_323",ee="_modal_open_ri9v2_343",se="_modal_close_ri9v2_355",te="_modal_wrapper_ri9v2_363",ae="_modal_ri9v2_323",ie="_sm_ri9v2_425",s={help_center:M,help_center_title:T,box:D,input_box:L,input:P,d_flex:W,multi_select:V,label:B,button_wrapper:R,button:z,h3:G,issues_container:J,issue:K,issues:Q,in_review:U,solved:X,raised:Y,modal_overlay:Z,modal_open:ee,modal_close:se,modal_wrapper:te,modal:ae,sm:ie},le=({faq:n,index:t})=>{const[d,l]=o.useState(!1),a=()=>{l(!d)};return e.jsxs("li",{onClick:a,className:`${m.faq_li_none} ${m.faq_li} ${t!==0&&m.faq_li_border_top}`,children:[e.jsxs("h6",{className:m.faq_li_h6,children:[n.ques,"?"]}),e.jsx("p",{className:`${d?`${m.faq_li_p} ${m.faq_li_p_open}`:m.faq_li_p}`,children:n.ans})]})},ne=()=>{const[n,t]=o.useState([]),d=async()=>{try{const{data:l}=await f.get("https://abhicares.com/api/shopping/get-all-faq",{withCredentials:!0});console.log(l),t(l.data)}catch(l){console.log(l)}};return o.useEffect(()=>{d()},[]),e.jsx("div",{className:m.faq,children:e.jsx("ul",{className:m.faq_ul,children:n==null?void 0:n.map((l,a)=>e.jsx(le,{faq:l,index:a},a))})})},re=({ticketHistory:n})=>{var d,l,a,p,r,v,h,j,x;const t=b=>n==null?void 0:n.find(u=>(u==null?void 0:u.status)===b);return e.jsxs("div",{style:{marginTop:"20px",display:"flex",flexDirection:"column",position:"relative"},children:[e.jsxs("div",{style:{position:"relative",paddingBottom:"40px"},children:[e.jsx(g,{title:"Raised",time:t("raised")?(d=t("raised"))==null?void 0:d.date:"",status:((l=t("raised"))==null?void 0:l.status)||"",className:t("raised")?"bg-green":"bg-gray",desc:((a=t("raised"))==null?void 0:a.resolution)||""}),e.jsx("div",{className:"vertical-line"})]}),e.jsxs("div",{style:{position:"relative",paddingBottom:"40px"},children:[e.jsx(g,{title:"In Progress",time:t("in-review")?(p=t("in-review"))==null?void 0:p.date:"",status:((r=t("in-review"))==null?void 0:r.status)||"",className:t("in-review")?"bg-green":"bg-gray",desc:((v=t("in-review"))==null?void 0:v.resolution)||""}),e.jsx("div",{className:"vertical-line"})]}),e.jsx(g,{title:"Completed",time:t("completed")?(h=t("completed"))==null?void 0:h.date:"",status:((j=t("completed"))==null?void 0:j.status)||"",className:t("completed")?"bg-green":"bg-gray",desc:((x=t("completed"))==null?void 0:x.resolution)||""})]})},ge=()=>{const[n,t]=o.useState(!1),[d,l]=o.useState(!1),[a,p]=o.useState({description:"",issue:"Select issue",others:""}),[r,v]=o.useState([]),[h,j]=o.useState({}),[x,b]=o.useState(!1);O();const[u,C]=o.useState(!0),k=i=>{j(i),b(!0)},w=i=>{const{name:_,value:H}=i.target;p({...a,[_]:H})},c=i=>{const{innerText:_}=i.target;_!=="Select issue"&&p({...a,issue:_}),t(!n),l(!1)},I=()=>{a.others&&(p({...a,issue:""}),t(!1),l(!1))},S=async i=>{if(i.preventDefault(),!a.description||a.issue&&!a.issue||a.others&&!a.others){N.error("Please fill all fields");return}try{const{data:_}=await f.post("https://abhicares.com/api/shopping/create-help",{...a},{withCredentials:!0});console.log(_),N.success("Issue submited successfully"),p({description:"",issue:"Select issue",others:""}),y()}catch(_){console.log(_)}},y=async()=>{try{const{data:i}=await f.get("https://abhicares.com/api/shopping/get-user-help ",{withCredentials:!0});console.log("issues",i),v(i.data)}catch(i){console.log(i)}finally{C(!1)}};return o.useEffect(()=>{y()},[]),e.jsxs(e.Fragment,{children:[e.jsx($,{children:e.jsxs("section",{className:s.help_center,children:[e.jsx("h2",{className:s.help_center_title,children:"Help Center"}),e.jsx("div",{className:s.box,children:e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:s.input_box,children:[e.jsxs("div",{onClick:c,className:`${s.input} ${s.d_flex}`,children:[e.jsx("span",{children:a.issue||a.others}),e.jsx(q,{})]}),n&&e.jsxs("div",{className:s.multi_select,children:[e.jsx("label",{className:s.label,onClick:c,htmlFor:"Having an issue with changing my number",children:"Having an issue with changing my number"}),e.jsx("label",{className:s.label,onClick:c,htmlFor:"Having an issue with changing my Address",children:"Having an issue with changing my Address"}),e.jsx("label",{className:s.label,onClick:c,htmlFor:"Having an issue with changing my E-mail",children:"Having an issue with changing my E-mail"}),e.jsx("label",{className:s.label,onClick:c,htmlFor:"I am unable to make Payment",children:"I am unable to make Payment"}),e.jsx("label",{className:s.label,onClick:c,htmlFor:"Can I get my service delivered faster?",children:"Can I get my service delivered faster?"}),e.jsx("label",{className:s.label,onClick:c,htmlFor:"How can I get my refund back?",children:"How can I get my refund back?"}),e.jsx("label",{className:s.label,onClick:c,htmlFor:"Having an issue with product Cancellation",children:"Having an issue with product Cancellation"}),e.jsx("label",{className:s.label,onClick:c,htmlFor:"How many days will it take for the refund to arrive?",children:"How many days will it take for the refund to arrive?"}),e.jsx("label",{className:s.label,onClick:c,htmlFor:"How can we edit my profile?",children:"How can we edit my profile?"}),e.jsx("label",{onClick:()=>l(!0),htmlFor:"",children:"other"}),d&&e.jsxs("div",{children:[e.jsx("div",{className:s.input_box,children:e.jsx("input",{onChange:w,value:a.others,className:s.input,type:"text",name:"others",id:"others",placeholder:"Enter your issue"})}),e.jsx("div",{className:s.button_wrapper,children:e.jsx("button",{type:"button",onClick:I,className:s.button,children:"Ok"})})]})]})]}),e.jsx("div",{className:s.input_box,children:e.jsx("input",{onChange:w,value:a.description,className:s.input,type:"text",name:"description",id:"description",placeholder:"Enter description"})}),e.jsx("div",{className:s.button_wrapper,children:e.jsx("button",{className:s.button,children:"Submit"})})]})}),e.jsx("div",{children:e.jsx("h3",{className:s.h3,children:"Frequently asked questions"})}),e.jsx(ne,{}),e.jsx("h3",{className:s.h3,children:"All issues"}),!u&&(r==null?void 0:r.length)===0&&e.jsx("p",{children:"No issues found"}),u&&(r==null?void 0:r.length)===0&&e.jsx(A,{}),r.length>0&&e.jsxs("div",{className:s.issues_container,children:[e.jsxs("div",{className:s.issue,children:[e.jsx("p",{children:"Ticket Id"}),e.jsx("p",{children:"Date"}),e.jsx("p",{children:"Status"}),e.jsx("p",{children:"View"})]}),r==null?void 0:r.map(i=>e.jsxs("div",{className:s.issues,children:[e.jsx("b",{className:"ticketId",style:{whiteSpace:"nowrap"},children:i==null?void 0:i.ticketId}),e.jsx("p",{children:E(new Date(i.createdAt),"dd-MM-yyyy")}),e.jsx("div",{children:e.jsx("span",{className:i.status==="in-review"?s.in_review:i.status==="raised"?s.raised:s.solved,children:i.status})}),e.jsx("div",{children:e.jsx("button",{onClick:()=>k(i),className:s.button,children:"View"})})]},i._id))]})]})}),x&&e.jsx("div",{className:`${s.modal_overlay} ${x?s.modal_open:s.modal_close}`,children:e.jsxs("div",{className:s.modal_wrapper,children:[e.jsx("button",{onClick:()=>b(!1),className:s.modal_close,children:e.jsx(F,{size:20})}),e.jsxs("div",{className:s.modal,children:[e.jsx("h4",{style:{fontWeight:"600"},children:"Ticket details"}),e.jsx("b",{children:h.issue}),e.jsx("p",{children:h.description}),e.jsx(re,{ticketHistory:h==null?void 0:h.ticketHistory})]})]})})]})};export{ge as default};
