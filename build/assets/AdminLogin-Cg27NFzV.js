import{e as h,r as l,j as e,L as x,f as b,_ as y}from"./index-C00j65eE.js";import{l as j}from"./logo -C1Nz5jdc.js";const v=()=>{const d=h(),t=l.useRef(),r=l.useRef(),c=async a=>{var n,i;a.preventDefault(),console.log("inside ");const m=t.current.value,u=r.current.value;try{const s=await b.post("https://abhicares.com/api/admin/login-Admin",{adminId:m,password:u},{withCredentials:!0});if(localStorage.setItem("perm",JSON.stringify(s.data.perm)),s!=null&&s.data){const f=["dashboard","banners","orders","bookings","services","partners","customers","offers","availableCities","payments","enquiry","helpCenter","settings"];alert("Logged in successfully"),localStorage.setItem("admin-status",!0);const p=f.find(g=>{var o;return((o=s==null?void 0:s.data)==null?void 0:o.perm[g])!=="none"});d(`/admin/${p}`)}}catch(s){console.log(s),y.error((i=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:i.message)}};return e.jsx("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("form",{onSubmit:a=>c(a),style:{padding:"45px",width:"50%",margin:"0 auto"},className:"shadow-lg p-3 mb-5 bg-body-tertiary rounded",children:[e.jsx("div",{className:"d-flex justify-content-center align-items-center",children:e.jsx(x,{to:"/",children:e.jsx("img",{src:j,alt:"logo",width:200})})}),e.jsx("h3",{className:"d-flex justify-content-center align-items-center my-4",children:"Admin Login"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{for:"username",className:"form-label",children:"Admin Id"}),e.jsx("input",{type:"text",className:"form-control","aria-describedby":"emailHelp",ref:t})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{for:"password",className:"form-label",children:"Password"}),e.jsx("input",{type:"password",className:"form-control",id:"password",ref:r})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})};export{v as default};
