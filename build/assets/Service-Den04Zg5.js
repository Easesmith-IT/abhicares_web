import{r as d,e as u,j as n,f as b,_ as f}from"./index-if6yrKUM.js";import{W as h}from"./Wrapper-DsK8qFe2.js";import{c as i}from"./Banner.module-CgHYAcNB.js";import{u as x}from"./useAuthorization-Cwg4rSt3.js";import"./logo -C1Nz5jdc.js";import"./index.esm-CdsNXrcl.js";import"./iconBase-lzS6dEZZ.js";import"./useDispatch-D0Me-TH-.js";import"./Shared.module-DD54I-nI.js";const W=()=>{const{checkAuthorization:o}=x(),[t,p]=d.useState([{bannerName:"banner1",file:null,preview:null},{bannerName:"banner2",file:null,preview:null},{bannerName:"banner3",file:null,preview:null}]);u();const c=(e,a)=>{const s=e.target.files[0];p(m=>m.map(r=>r.bannerName===a?{...r,file:s,preview:URL.createObjectURL(s)}:r))},l=async()=>{const e=new FormData;e.append("type","hero-banners"),e.append("page","service"),e.append("section","app-servicepage"),e.append("no_of_images","multiple");for(const a of t)e.append("img",a.file);try{(await b.post("https://abhicares.com/api/content/upload-banners",e,{withCredentials:!0})).status===200&&alert("Updated successfully!")}catch(a){f.error(a.message),console.log("ERROR",a.message),o(a)}};return n.jsx(h,{children:n.jsxs("div",{children:[n.jsx("div",{className:"my-3 mx-5",children:n.jsx("h3",{children:"Service Banners(3)"})}),n.jsx("div",{className:i.imagesContainer,children:t.map((e,a)=>n.jsxs("div",{className:i.imageWrapper,children:[e.bannerName&&e.bannerName.preview&&n.jsx("img",{src:e.bannerName.preview,alt:`banner${a+1}`}),n.jsx("input",{type:"file",name:e.bannerName,accept:"image/*",onChange:s=>c(s,e.bannerName),className:"mb-2"})]},a))}),n.jsx("div",{className:"d-flex justify-content-end mx-5 mt-4",children:n.jsx("button",{type:"button",className:"btn btn-primary",onClick:l,children:"Update"})})]})})};export{W as default};
