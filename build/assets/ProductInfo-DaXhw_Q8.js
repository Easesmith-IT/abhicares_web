import{j as s,o as j}from"./index-DmceSUEu.js";import{p as x}from"./index-CyJCqZ_n.js";import{W as p}from"./Wrapper-CijAMONv.js";import{c as e}from"./ProductInfoModal.module-DFnnMkat.js";import{R as m}from"./react-stars-9WME_DoH.js";import"./logo -C1Nz5jdc.js";import"./LogoutModal-BO_6Xxx7.js";import"./iconBase-CgRV0d11.js";const l=({ratingValue:r,ratingStar:i,maxRating:n=500})=>{const a=Math.min(r/n*100,100);return console.log("scaledPercent",a),s.jsxs("div",{className:`singlerating-container ${window.innerWidth<900?"singlerating-container-medium":""}`,children:[s.jsx("p",{className:"singlerating-star-text",children:i===1?`${i} star`:`${i} stars`}),s.jsx("div",{className:"singlerating-bar-container",children:s.jsx("div",{className:"singlerating-bar",style:{width:`${a||0}%`}})}),s.jsx("div",{className:"singlerating-value",children:r})]})},h=({item:r,className:i})=>{const{rating:n,ratingDistribution:a,totalReviews:c}=r||{};return console.log("totalReviews",c),s.jsxs("div",{className:`ratings-container ${i}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"ratings-header",children:"Reviews"}),s.jsx("h2",{className:"ratings-average",children:n}),s.jsx(m,{edit:!1,size:35,count:5,value:n,color2:"#FF8A00",className:"ratings-stars"}),s.jsxs("p",{className:"ratings-reviews",children:["(",c," Reviews)"]})]}),s.jsxs("div",{className:"ratings-list",children:[s.jsx(l,{ratingStar:5,ratingValue:a[5],maxRating:c}),s.jsx(l,{ratingStar:4,ratingValue:a[4]||0,maxRating:c}),s.jsx(l,{ratingStar:3,ratingValue:a[3]||0,maxRating:c}),s.jsx(l,{ratingStar:2,ratingValue:a[2]||0,maxRating:c}),s.jsx(l,{ratingStar:1,ratingValue:a[1]||0,maxRating:c})]})]})},w=()=>{var n;const{state:{product:r,isPackage:i}}=j();return console.log("product",r),s.jsx(p,{children:s.jsxs("div",{className:e.modal,children:[s.jsx("div",{className:e.heading_container,children:s.jsxs("h4",{children:[i?"Package":"Product"," Info"]})}),s.jsx("div",{className:e.carousel,children:(n=r==null?void 0:r.imageUrl)==null?void 0:n.map(a=>s.jsx("img",{className:e.carousel_img,src:`https://storage.googleapis.com/abhicares-backend-bucket/${a}`,alt:i?"Package":"Product"},a))}),s.jsxs("div",{className:e.contianer,children:[s.jsx("h5",{children:r==null?void 0:r.name}),(r==null?void 0:r.description)&&s.jsx("p",{children:x(r==null?void 0:r.description)}),s.jsxs("div",{children:[s.jsxs("span",{children:["₹",r==null?void 0:r.price]}),s.jsxs("span",{children:["₹",r==null?void 0:r.offerPrice]})]})]}),s.jsx(h,{className:"",item:r}),i&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:e.h3,children:"Products"}),s.jsx("div",{className:e.products_cotainer,children:r.products.map(a=>{var c,d,t,o,g;return s.jsxs("div",{className:e.product,children:[s.jsxs("div",{children:[s.jsx("img",{className:e.img,src:`https://storage.googleapis.com/abhicares-backend-bucket/${(c=a==null?void 0:a.productId)==null?void 0:c.imageUrl[0]}`,alt:"product"}),s.jsxs("div",{className:e.product_info,children:[s.jsx("h5",{children:(d=a==null?void 0:a.productId)==null?void 0:d.name}),s.jsx("p",{children:x((t=a==null?void 0:a.productId)==null?void 0:t.description)}),s.jsx("div",{className:e.d_flex,children:s.jsxs("div",{className:e.price_cotainer,children:[s.jsxs("p",{className:e.price,children:["₹",(o=a==null?void 0:a.productId)==null?void 0:o.price]}),s.jsxs("p",{className:e.price,children:["₹",(g=a==null?void 0:a.productId)==null?void 0:g.offerPrice]})]})})]})]}),s.jsx(h,{className:"col",item:a==null?void 0:a.productId})]})})})]})]})})};export{w as default};
