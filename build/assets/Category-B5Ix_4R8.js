import{r as c,e as N,j as s,f as i,_ as j}from"./index-eSIAY8Uv.js";import{W as w}from"./Wrapper-C_MBzJws.js";import{c as p}from"./Banner.module-CgHYAcNB.js";import{u as x}from"./useAuthorization-D2JGx9Uv.js";import"./logo -C1Nz5jdc.js";import"./index.esm-DOqJpdRb.js";import"./iconBase-BPNpYAOT.js";import"./useDispatch-BjeBiUzI.js";import"./Shared.module-DD54I-nI.js";const H=()=>{const{checkAuthorization:m}=x(),[l,d]=c.useState([{bannerName:"banner1",file:null,preview:null},{bannerName:"banner2",file:null,preview:null},{bannerName:"banner3",file:null,preview:null}]),[o,b]=c.useState([{bannerName:"banner4",file:null,preview:null},{bannerName:"banner5",file:null,preview:null}]);N();const u=(e,a)=>{const n=e.target.files[0];b(t=>t.map(r=>r.bannerName===a?{...r,file:n,preview:URL.createObjectURL(n)}:r))},g=(e,a)=>{const n=e.target.files[0];d(t=>t.map(r=>r.bannerName===a?{...r,file:n,preview:URL.createObjectURL(n)}:r))},f=async()=>{const e=new FormData;e.append("type","hero-banners"),e.append("page","category"),e.append("section","app-categorypage"),e.append("no_of_images","multiple");for(const t of l)e.append("img",t.file);const a=new FormData;a.append("type","banner1"),a.append("page","category"),a.append("section","app-categorypage"),a.append("no_of_images","single"),a.append("img",o[0].file);const n=new FormData;n.append("type","banner2"),n.append("page","category"),n.append("section","app-categorypage"),n.append("no_of_images","single"),n.append("img",o[1].file);try{const t=await i.post("https://abhicares.com/api/content/upload-banners",e,{withCredentials:!0}),r=await i.post("https://abhicares.com/api/content/upload-banners",a,{withCredentials:!0});console.log(r);const h=await i.post("https://abhicares.com/api/content/upload-banners",n,{withCredentials:!0});t.status===200&&r.status===200&&h.status===200&&alert("Updated successfully!")}catch(t){j.error(t.message),console.log("ERROR",t.message),m(t)}};return s.jsx(w,{children:s.jsxs("div",{children:[s.jsx("div",{className:"my-3 mx-5",children:s.jsx("h3",{children:"Hero Banners(3)"})}),s.jsx("div",{className:p.imagesContainer,children:l.map((e,a)=>s.jsxs("div",{className:p.imageWrapper,children:[e.bannerName&&e.bannerName.preview&&s.jsx("img",{src:e.bannerName.preview,alt:`banner${a+1}`}),s.jsx("input",{type:"file",name:e.bannerName,accept:"image/*",onChange:n=>g(n,e.bannerName),className:"mb-2"})]},a))}),s.jsx("div",{className:p.otherBanners,children:o.map((e,a)=>s.jsxs("div",{className:p.bannerContainer,children:[s.jsx("h4",{children:`Banner ${a+1}`}),e.bannerName&&e.bannerName.preview&&s.jsx("img",{src:e.bannerName.preview,alt:`banner${a+1}`}),s.jsx("input",{type:"file",name:e.bannerName,accept:"image/*",onChange:n=>u(n,e.bannerName),className:"mb-2"})]},a))}),s.jsx("div",{className:"d-flex justify-content-end mx-5 mt-4",children:s.jsx("button",{type:"button",className:"btn btn-primary",onClick:f,children:"Update"})})]})})};export{H as default};
