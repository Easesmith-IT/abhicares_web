import{r as i,j as e,L as g,f as l,u as f}from"./index-MFgKNwIH.js";import{c as s,A as w}from"./style.module-DI4n_xmn.js";import{W as p}from"./WebsiteWrapper-B0GV9j-e.js";import"./index.esm-cL7qp0JE.js";import"./iconBase-CdfoCUfg.js";import"./useDispatch-CwGLudnh.js";import"./rolling-white-BBE_8u84.js";import"./index.esm-Cv4_ejct.js";import"./Button-DHv-FYu5.js";import"./index.esm-Br4GktT8.js";const b=()=>{const[a,m]=i.useState([]);return i.useEffect(()=>{(async()=>{try{const c=(await l.get("https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/posts")).data.map(async t=>{if(t.featured_media){const n=await l.get(`https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/media/${t.featured_media}`);return{...t,featured_image:n.data}}return t}),h=await Promise.all(c);m(h)}catch(o){console.error("Error fetching data:",o)}})()},[]),e.jsx("div",{className:"wrapper",children:e.jsxs("div",{className:s["recent-blogs-wrapper"],children:[e.jsx("h1",{children:"Recent blogs"}),e.jsx("div",{className:s["blogs-sidebar-inner"],children:a.slice(0,3).map(r=>e.jsxs("div",{className:s["recent-blogs-cards"],children:[e.jsx("div",{className:s["blog-swiper-thumbnail"],children:e.jsx(g,{to:`/single-blog/${r.id}`,children:e.jsx("img",{src:r.featured_image.source_url,alt:"image"})})}),e.jsxs("div",{className:s["blog-content"],children:[e.jsx("div",{className:s["authoring-date"],children:e.jsx("span",{children:new Date(r.date).toLocaleDateString()})}),e.jsx("div",{className:s["blog-name"],children:e.jsx("h5",{children:e.jsx(g,{to:`/single-blog/${r.id}`,children:r.title.rendered})})}),e.jsx("div",{className:s["read-more"],children:e.jsxs(g,{to:`/single-blog/${r.id}`,children:["Read moreÂ ",e.jsx(w,{})]})})]})]},r.id))})]})})},D=()=>{const[a,m]=i.useState(null),[r,o]=i.useState(!0),[c,h]=i.useState(null),{id:t}=f(),n=t,u=window.innerWidth;return i.useEffect(()=>{(async()=>{try{const d=await l.get(`https://blog.abhicares.com/wp-json/wp/v2/posts/${n}`),j=d.data.featured_media,x=(await l.get(`https://blog.abhicares.com/wp-json/wp/v2/media/${j}`)).data.source_url;m({...d.data,featuredImageUrl:x})}catch(d){h(d)}finally{o(!1)}})()},[n]),r?e.jsx(p,{children:e.jsx("div",{className:s["recent-blogs-wrapper-loading"],children:e.jsx("div",{className:s.loading,children:e.jsx("h1",{children:"....Loading"})})})}):c?e.jsxs("p",{children:["Error: ",c.message]}):a?e.jsxs(p,{children:[e.jsx("div",{className:s["featured-image"],children:e.jsx("img",{src:a.featuredImageUrl,alt:"image"})}),e.jsxs("div",{className:s["each-blog-container-wrapper"],children:[e.jsxs("div",{className:s["recent-blogs-wrapper"],style:{margin:u<520?"0.2rem 0.4rem":""},children:[e.jsx("h2",{children:a.title.rendered}),e.jsx("div",{dangerouslySetInnerHTML:{__html:a.content.rendered}})]}),e.jsx(b,{})]})]}):e.jsxs("p",{children:["No post found with ID ",n]})};export{D as default};
