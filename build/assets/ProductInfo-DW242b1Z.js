import{j as s,o as j}from"./index-Dv256yl2.js";import{p as h}from"./index-CwD5jx6y.js";import{W as p}from"./Wrapper-DVa65dbI.js";import{c as e}from"./ProductInfoModal.module-DFnnMkat.js";import{R as m}from"./react-stars-6G9ZdtIq.js";import"./logo -C1Nz5jdc.js";import"./index.esm-B1Gcm8L9.js";import"./iconBase-8sBCukzP.js";const l=({ratingValue:r,ratingStar:n,maxRating:c=500})=>{const a=Math.min(r/c*100,100);return console.log("scaledPercent",a),s.jsxs("div",{className:`singlerating-container ${window.innerWidth<900?"singlerating-container-medium":""}`,children:[s.jsx("p",{className:"singlerating-star-text",children:n===1?`${n} star`:`${n} stars`}),s.jsx("div",{className:"singlerating-bar-container",children:s.jsx("div",{className:"singlerating-bar",style:{width:`${a||0}%`}})}),s.jsx("div",{className:"singlerating-value",children:r})]})},v=({item:r,className:n})=>{const{rating:c,ratingDistribution:a,totalReviews:i}=r||{};return console.log("totalReviews",i),console.log("ratingDistribution",a),s.jsxs("div",{className:`ratings-container ${n}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"ratings-header",children:"Reviews"}),s.jsx("h2",{className:"ratings-average",children:c}),s.jsx(m,{edit:!1,size:35,count:5,value:c,color2:"#FF8A00",className:"ratings-stars"}),s.jsxs("p",{className:"ratings-reviews",children:["(",i," Reviews)"]})]}),s.jsxs("div",{className:"ratings-list",children:[s.jsx(l,{ratingStar:5,ratingValue:a[5]&&a[5]||0,maxRating:i}),s.jsx(l,{ratingStar:4,ratingValue:a[4]&&a[4]||0,maxRating:i}),s.jsx(l,{ratingStar:3,ratingValue:a[3]&&a[3]||0,maxRating:i}),s.jsx(l,{ratingStar:2,ratingValue:a[2]&&a[2]||0,maxRating:i}),s.jsx(l,{ratingStar:1,ratingValue:a[1]&&a[1]||0,maxRating:i})]})]})},I=()=>{var c;const{state:{product:r,isPackage:n}}=j();return console.log("product",r),s.jsx(p,{children:s.jsxs("div",{className:e.modal,children:[s.jsx("div",{className:e.heading_container,children:s.jsxs("h4",{children:[n?"Package":"Product"," Info"]})}),s.jsx("div",{className:e.carousel,children:(c=r==null?void 0:r.imageUrl)==null?void 0:c.map(a=>s.jsx("img",{className:e.carousel_img,src:`https://storage.googleapis.com/abhicares-backend-bucket/${a}`,alt:n?"Package":"Product"},a))}),s.jsxs("div",{className:e.contianer,children:[s.jsx("h5",{children:r==null?void 0:r.name}),(r==null?void 0:r.description)&&s.jsx("p",{children:h(r==null?void 0:r.description)}),s.jsxs("div",{children:[s.jsxs("span",{children:["₹",r==null?void 0:r.price]}),s.jsxs("span",{children:["₹",r==null?void 0:r.offerPrice]})]})]}),s.jsx(v,{className:"",item:r}),n&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:e.h3,children:"Products"}),s.jsx("div",{className:e.products_cotainer,children:r.products.map(a=>{var i,t,d,o,g,x;return s.jsx("div",{className:e.product,children:s.jsxs("div",{children:[s.jsx("img",{className:e.img,src:`https://storage.googleapis.com/abhicares-backend-bucket/${(i=a==null?void 0:a.productId)==null?void 0:i.imageUrl[0]}`,alt:"product"}),s.jsxs("div",{className:e.product_info,children:[s.jsx("h5",{children:(t=a==null?void 0:a.productId)==null?void 0:t.name}),s.jsx("p",{children:((d=a==null?void 0:a.productId)==null?void 0:d.description)&&h((o=a==null?void 0:a.productId)==null?void 0:o.description)}),s.jsx("div",{className:e.d_flex,children:s.jsxs("div",{className:e.price_cotainer,children:[s.jsxs("p",{className:e.price,children:["₹",(g=a==null?void 0:a.productId)==null?void 0:g.price]}),s.jsxs("p",{className:e.price,children:["₹",(x=a==null?void 0:a.productId)==null?void 0:x.offerPrice]})]})})]})]})})})})]})]})})};export{I as default};
