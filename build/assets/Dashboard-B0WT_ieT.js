import{r as o,j as e,f as u,e as C}from"./index-lY8eDmQj.js";import{c as s,W as I}from"./Wrapper-C5Vyjcs6.js";import{L as O}from"./Loader-D1crzail.js";import{P as R}from"./react-bootstrap-pagination-control.esm-Cul1rgAV.js";import{f as E}from"./index-3HMGIBDb.js";import"./logo -C1Nz5jdc.js";import"./LogoutModal-CpkpXklC.js";import"./iconBase-BlupGJxB.js";const f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMUlEQVR4nO2VwWrCQBRF/Uz/yKK4CYIWLRgNxIaOJqGpRtSMxiyEVtpF0ShlsGTnwra71sIUBYXSiJVkBknegbuZ1eFeHpNIRIF0UfFuWgPCM+mi4v1bUOs4hHJG6zgEBIMADQYFGjyLBvHoaRu/t1PCTJAlIBiUeDSI4UiiPjFL4iGI4UiiPjFL4iGI4UiiPjFLQDDUBlOXNU9Uu+RQKlp3jdoODSst+/40QekWk8Xyg/JKEwSXnBus6pbLc2JzOD4q2Gg7071gQTYwT0G9NzoqKCLT2gtelJRkfzx55yVoP87o9OX1oNzzfPGWKSnJX79FtlwXMEdJw36gEx/JjVxOUgXfL23TZKFmWBXNcuW7wXwXScfr66b9FXayV+g7lZc/BVFdIXPoisjs/Wnu3PkBMoHLJuoJkjoAAAAASUVORK5CYII=",P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADsElEQVR4nO1Za0hUQRRe+6FF/4Ige0CPn/3KCsp+3I3WgkAkLdJfQaRRRtGDgiBI6SUVWEE+onTVlcQXKmZmUBKomO+3rkXqrimrbeVa+bh74szdu9277ubOXe/eVfeD82fmnpn5Zs45c84dFaNKgaUgKlcdvgpm2RNhfMBsGIGFSD6RRU/EZLQQxfjQYsVJxO8rJmsxGSz0RHR3m8DXkH27kZ6IJjCNkOFPRkmYDBZCAtdETURJv+FBo+MnwvhPJMVvWozfR1RiM7BauWiiDpAvYqkDuKiFc8kWtca/TpJJIoO1ovbJn9MgFagrHCtqfRZpHxuelI9IZ+0ImeTigVJRe33loGQida8GRGNdDisj7R01I/IR0SY2kEkqMntE7XG7CoCdtdkdBVDn1I580VhvsntJX8bNj/IRid6SAyxrhekpFmJDxAtIvVpLRQJ9IPnchzkbMjPNkjmOb86RjwhKwaM2spDBXjMc3Zgl6ks6+Q5+TczvLxPmP5AQXSXSPbYpGwz676Q/P7mNak2SiBxc9Qz6W8fIhJhQYoot7MedrNL1OTU13O3y593EoYU6OAafnPa3jkHYynT5iaCEr3kBLdXDnJ2zVsh72EoICr+J2aqDrFuNMNhjhi9d34jN4647bgrq4hiIluphMraUNUkigqIJSucWYdt5NDWaIgy/RR3e6XEsTRD9SXhMhJcze4rIjvMOXJrWCYdWi09HKGg2untN9g0w9v+A80yJR2tgFoIIbyIv77f8O50eM5zdWzTnO2zDPv4UUMfRJBk/EZXnpjXQbV68pqVZCs4ejuH3vdHtU3D3dDpqRiBibaZ3iKBzfm4f5y5Ew9wLUYoIL8RPbeOSAgA1kaIn7XZTitogvqE9EUx3hvq4FKXwcbu8RPikEVON07sLF4wEL7Eh+SQhRXON2abzQhqfIU7jXVV6N6IqoatuFLrrRyExpgr2r0idV++1lkvjMxMavF9YOcqJ7Xn2b4XQN5sgdmfBf3UvabjCCvVlL3WPrBOXukJ5EFcNU79nXabwszMsqV1c6UcGa+Uvdef7+YCh1F2UpXc5HUftjZ8PPJz1Pb1SA7RAn6Odh5GTyAV1ib2moAHu+rXD5b5BRB2QQiKTVODl6hjNFCFyPaICPAWGacWJvM3Ve0wEx1CcyJAtrfAEmO7IRkQTmAa5Sc0knisNk9FCngElPb3R3AneQs6dJnoifFrtrPb2tsSH2p6njRKep3koTYJxcz3Lh4ivgVm2RJhFJn8BoFC4Bw/VP5MAAAAASUVORK5CYII=",k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZUlEQVR4nO2WsW6DMBCGvfS5PPSV2hfJ0r5C+wSRMjeTV7aDgQE8eAPkDUeHEqlqA9hG8IfIJ91mpO/zb3wWUny4PbdAA8gkIPC7KNMREk/4Ex+/lSOih+jjlwoXQEPTn44WQBclAXBRSgBclBJ49gT6vndaa9c0jTdU27auruvhW6gAAzDIba2PBMPneT6sr6pqVmJVAd7539OSwRjQB/7WWmucQNd1/4DGkrgHn88Iry7gKxELv9k1OiWxBH7TOTAmsQR+80E2JhELD5nEU0mEwkME7p35kDkBFZiCj5WgrQTGbhvfOQEVmLoqQ4YdRMDnnl8iQWsKhAypWAlKj7mJ4qewMcYVReHKshx2ea54Da/lb4wx2Of0FkVJAFyUEgAXpQT2noC1FgZvrV0u8CgtQwXUOYND07XVTxYucHg/wcHp2oe3U7jA68vnIIFMQp2zgYFZggX20gINIJOAwO/ikiN0Aa7PK1Jk9WjnAAAAAElFTkSuQmCC",b=()=>{const[r,n]=o.useState({completed:0,cancelled:0,pending:0,total:0}),j=async()=>{var A,h,i,m,g,p,d;try{const{data:t}=await u.get("https://abhicares.com/api/admin/get-order-count-by-status",{withCredentials:!0});let x=0;(A=t==null?void 0:t.data)==null||A.forEach(c=>{x+=c.count}),n({cancelled:((i=(h=t==null?void 0:t.data)==null?void 0:h.find(c=>c.status==="Cancelled"))==null?void 0:i.count)||0,completed:((g=(m=t==null?void 0:t.data)==null?void 0:m.find(c=>c.status==="Completed"))==null?void 0:g.count)||0,pending:((d=(p=t==null?void 0:t.data)==null?void 0:p.find(c=>c.status==="Pending"))==null?void 0:d.count)||0,total:x||0}),console.log("count",t)}catch(t){console.log(t)}};return o.useEffect(()=>{j()},[]),e.jsx("div",{className:s.main,children:e.jsxs("div",{className:s["box-container"],children:[e.jsxs("div",{className:`${s.box} ${s.box1}`,children:[e.jsxs("div",{className:s.text,children:[e.jsx("h2",{className:s["topic-heading"],children:r.total}),e.jsx("h2",{className:s.topic,children:"Total Orders"})]}),e.jsx("img",{src:f,alt:"total-orders"})]}),e.jsxs("div",{className:`${s.box} ${s.box2}`,children:[e.jsxs("div",{className:s.text,children:[e.jsx("h2",{className:s["topic-heading"],children:r.completed}),e.jsx("h2",{className:s.topic,children:"Completed Orders"})]}),e.jsx("img",{src:"https://media.geeksforgeeks.org/wp-content/uploads/20221210185029/13.png",alt:"completed-orders"})]}),e.jsxs("div",{className:`${s.box} ${s.box3}`,children:[e.jsxs("div",{className:s.text,children:[e.jsx("h2",{className:s["topic-heading"],children:r.pending}),e.jsx("h2",{className:s.topic,children:"Pending Orders"})]}),e.jsx("img",{src:P,alt:"pending-orders"})]}),e.jsxs("div",{className:`${s.box} ${s.box4}`,children:[e.jsxs("div",{className:s.text,children:[e.jsx("h2",{className:s["topic-heading"],children:r.cancelled}),e.jsx("h2",{className:s.topic,children:"Cancelled Orders"})]}),e.jsx("img",{src:k,alt:"cancelled-orders"})]})]})})},S=()=>{const r=C(),[n,j]=o.useState([]),[A,h]=o.useState(!0),[i,m]=o.useState({startDate:"",endDate:"",status:""}),[g,p]=o.useState(1),[d,t]=o.useState(1),x=async a=>{t(a)},c=a=>{const{name:l,value:v}=a.target;m({...i,[l]:v})};console.log("filters",i);const N=async()=>{var a;try{const{data:l}=await u.get(`https://abhicares.com/api/admin/get-recent-orders?page=${d}&status=${i.status}`,{withCredentials:!0});j(l.data),p(Number((a=l==null?void 0:l.pagination)==null?void 0:a.totalPages)),console.log("allOrders",l)}catch(l){console.log(l)}finally{h(!1)}};return o.useEffect(()=>{N()},[i.status,d,i.startDate,i.endDate]),e.jsx(I,{children:e.jsxs("div",{style:{width:"100%"},children:[e.jsx(b,{}),e.jsxs("div",{className:s["report-container"],children:[e.jsxs("div",{className:s["report-header"],children:[e.jsx("h1",{className:s["recent-Articles"],children:"Orders"}),e.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[e.jsxs("select",{name:"status",value:i.status,onChange:c,className:s.filter_input,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"OutOfDelivery",children:"OutOfDelivery"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),e.jsx("button",{onClick:()=>r("/admin/orders"),className:s.view,children:"View All"})]})]}),e.jsxs("div",{className:s["report-body"],children:[e.jsxs("div",{className:s["report-topic-heading"],children:[e.jsx("h3",{className:s["t-op"],style:{width:"200px"},children:"Order Id"}),e.jsx("h3",{className:s["t-op"],children:"Order Date"}),e.jsx("h3",{className:`${s["t-op"]}`,children:"Status"}),e.jsx("h3",{className:`${s["t-op"]}`,children:"Order Value"}),e.jsx("h3",{className:s["t-op"],children:"Details"})]}),e.jsxs("div",{className:s.items,children:[!A&&(n==null?void 0:n.length)===0&&e.jsx("p",{children:"No orders found"}),A&&(n==null?void 0:n.length)===0&&e.jsx(O,{}),n==null?void 0:n.map((a,l)=>e.jsxs("div",{className:`${s.item1} ${s.cursor}`,children:[e.jsx("h3",{className:`${s["t-op-nextlvl"]}`,style:{width:"200px"},children:a.orderId}),e.jsx("h3",{className:s["t-op-nextlvl"],children:E(new Date(a.createdAt),"dd-MM-yyyy")}),e.jsx("h3",{className:`${s["t-op-nextlvl"]} ${s.status} ${a.status==="Cancelled"?s.Cancelled:a.status==="Completed"?s.Completed:a.status==="pending"?s.pending:s.OutOfDelivery}`,children:a.status}),e.jsxs("h3",{className:`${s["t-op-nextlvl"]}`,children:["â‚¹",a.orderValue]}),e.jsx("h3",{className:s["t-op-nextlvl"],children:e.jsx("button",{onClick:()=>r(`/admin/Orders/${a._id}`,{state:a}),className:s.button,children:"View Details"})})]},l))]}),e.jsx("div",{style:{marginTop:"20px"},children:e.jsx(R,{changePage:x,limit:10,page:d,total:g+"0"})})]})]})]})})};export{S as default};
