import{r as i,e as M,_ as g,j as e}from"./index-MFQKCb7o.js";import{F as _}from"./index.esm-DwEWRVTp.js";import{u as S,a as b}from"./index.esm-Df65-zPW.js";import{A as L}from"./add-icon-nobg-CDiYK8IX.js";import{D as F}from"./DeleteModal-B67oLNyF.js";import{L as O}from"./Loader-CooIHcb6.js";import{u as w}from"./useDeleteApiReq-Y_ssn4az.js";import{W as k}from"./Wrapper-EuhUHBtD.js";import{R as I}from"./index.esm-CqPrJGFm.js";import{c as r}from"./AddResoulationModal.module-DEfsxiwO.js";import{u as z}from"./useAuthorization-Y1Z3uJ_s.js";import{u as $}from"./usePatchApiReq-C7rNSsLh.js";import{u as P}from"./usePostApiReq-D4ZpDEWt.js";import{h as d}from"./HelpCenter.module-CDSZ6uwM.js";import{f as W}from"./index-D5Lf-kgZ.js";import"./iconBase-BO1x0Pa9.js";import"./useDispatch-DbBSbkF0.js";import"./logo -C1Nz5jdc.js";const D=({setIsModalOpen:n,faq:l="",getAllFaqs:j})=>{const{res:s,fetchData:N,isLoading:p}=P();z();const[o,f]=i.useState({ques:l.ques||"",ans:l.ans||""}),u=t=>{const{name:v,value:C}=t.target;f({...o,[v]:C})};M();const{res:a,fetchData:h}=$(),m=async t=>{t.preventDefault(),!(!o.ques||!o.ans)&&(l?await h(`/admin/update-faq/${l._id}`,{...o}):N("/admin/create-faq",{...o}))};return i.useEffect(()=>{((a==null?void 0:a.status)===200||(a==null?void 0:a.status)===201)&&(console.log("feqRes",a),g.success("Faq updated successfully"),j(),n(!1))},[a]),i.useEffect(()=>{((s==null?void 0:s.status)===200||(s==null?void 0:s.status)===201)&&(g.success("Faq created successfully"),j(),n(!1))},[s]),e.jsx("div",{className:r.wrapper,children:e.jsxs("div",{className:r.modal,children:[e.jsxs("div",{className:r.heading_container,children:[e.jsxs("h4",{children:[l?"Edit":"Create"," Faq"]}),e.jsx("div",{className:r.d_flex,children:e.jsx(I,{onClick:()=>n(!1),cursor:"pointer",size:26})})]}),e.jsxs("form",{onSubmit:m,className:r.form,children:[e.jsxs("div",{className:r.input_container,children:[e.jsx("label",{htmlFor:"ques",children:"Question"}),e.jsx("input",{className:r.input,onChange:u,value:o.ques,type:"text",name:"ques",id:"ques"})]}),e.jsxs("div",{className:r.input_container,children:[e.jsx("label",{htmlFor:"ans",children:"Answer"}),e.jsx("input",{className:r.input,onChange:u,value:o.ans,type:"text",name:"ans",id:"ans"})]}),e.jsx("div",{className:r.button_wrapper,children:e.jsx("button",{onClick:m,className:r.button,children:p?"Loading...":l?"Update":"Add"})})]})]})})},re=()=>{const{res:n,fetchData:l,isLoading:j}=w(),{res:s,fetchData:N,isLoading:p}=S(),[o,f]=i.useState(!1),[u,a]=i.useState(!1),[h,m]=i.useState({}),[t,v]=i.useState([]),[C,y]=i.useState(!1),x=async()=>{N("/admin/get-all-faq")};i.useEffect(()=>{x()},[]),i.useEffect(()=>{((s==null?void 0:s.status)===200||(s==null?void 0:s.status)===201)&&v(s==null?void 0:s.data.data)},[s]);const q=c=>{m(c),a(!u)},A=async()=>{l(`/admin/delete-faq/${h}`)};i.useEffect(()=>{((n==null?void 0:n.status)===200||(n==null?void 0:n.status)===201)&&(g.success("Faq deleted successfully"),x(),a(!u))},[n]);const E=c=>{m(c),f(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(k,{children:e.jsxs("div",{className:d["report-container"],children:[e.jsxs("div",{className:`d-flex justify-content-between ${d.justify}`,children:[e.jsx("h1",{className:d["recent-Articles"],children:"Faqs"}),e.jsx("img",{onClick:()=>y(!0),src:L,alt:"add faq",style:{cursor:"pointer"}})]}),e.jsxs("div",{className:d.container,children:[!p&&(t==null?void 0:t.length)===0&&e.jsx("p",{children:"No faqs found"}),p&&(t==null?void 0:t.length)===0&&e.jsx(O,{}),t==null?void 0:t.map(c=>e.jsxs("div",{className:d.helpCenter,children:[e.jsxs("div",{className:d.helpCenter_left,children:[e.jsxs("p",{children:["name: ",c.ques]}),e.jsxs("p",{children:["issue: ",c.ans]}),e.jsxs("p",{children:["created at:"," ",W(new Date(c.createdAt),"dd-MM-yyyy")]})]}),e.jsxs("div",{className:d.helpCenter_right,children:[e.jsx(b,{onClick:()=>q(c._id),cursor:"pointer",size:22,color:"red"}),e.jsx(_,{onClick:()=>E(c),cursor:"pointer"})]})]}))]})]})}),o&&e.jsx(D,{setIsModalOpen:f,getAllFaqs:x,faq:h}),C&&e.jsx(D,{setIsModalOpen:y,getAllFaqs:x}),u&&e.jsx(F,{handleDelete:A,setState:a})]})};export{re as default};
