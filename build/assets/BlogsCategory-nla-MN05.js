import{u as f,r as i,j as e,L as d,f as l}from"./index-A8F5s_OX.js";import{c as s,A as v}from"./style.module-pOBwHowV.js";import{W as g}from"./WebsiteWrapper-BxSd_jWQ.js";import"./index.esm-MqVG0Kzl.js";import"./iconBase-i28GCwjE.js";import"./rolling-white-BBE_8u84.js";import"./index.esm-zP93D0je.js";import"./Button--Cqrhv7q.js";import"./index.esm-Djloo-GE.js";const $=()=>{const{id:c}=f();console.log(c),i.useState({});const[m,h]=i.useState([]),[p,x]=i.useState(!0);return i.useEffect(()=>{(async()=>{try{await(async j=>{try{const t=await l.get(`https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/posts?categories=${j}`);console.log(t.data);const u=await Promise.all(t.data.map(async r=>{try{const o=await l.get(`https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/media/${r.featured_media}`);return console.log("Media Response for Post ID",r.id,o.data),{...r,featuredMedia:o.data}}catch(o){return console.error("Error fetching featured media for Post ID",r.id,o),{...r,featuredMedia:null}}finally{x(!1)}}));h(u)}catch(t){console.error("Error fetching category blogs:",t)}})(c)}catch(n){console.error("Error fetching data:",n)}})()},[c]),p?e.jsx(g,{children:e.jsx("div",{className:s["recent-blogs-wrapper-loading"],children:e.jsx("div",{className:s.loading,children:e.jsx("h1",{children:"....Loading"})})})}):e.jsx(g,{children:e.jsx("div",{className:"wrapper",children:e.jsx("div",{className:s["recent-blogs-wrapper"],children:e.jsx("div",{children:e.jsx("div",{className:s["category-wrapper"],children:e.jsx("div",{className:s["blogs-container"],children:m.map(a=>e.jsxs("div",{className:s["blog-cards"],children:[e.jsx("div",{className:s["blog-thumbnail"],children:a.featuredMedia&&e.jsx(d,{to:`/single-blog/${a.id}`,children:e.jsx("img",{src:a.featuredMedia.source_url,alt:"Image"})})}),e.jsxs("div",{className:s["blog-content"],children:[e.jsx("div",{className:s["authoring-date"],children:e.jsx("span",{children:new Date(a.date).toLocaleDateString()})}),e.jsx("div",{className:s["blog-name"],children:e.jsx("h5",{children:e.jsx(d,{to:`/single-blog/${a.id}`,children:a.title.rendered})})}),e.jsx("div",{className:s["read-more"],children:e.jsxs(d,{to:`/single-blog/${a.id}`,children:["Read moreÂ ",e.jsx(v,{})]})})]})]},a.id))})})})})})})};export{$ as default};
