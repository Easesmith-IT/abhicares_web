import{r as d,j as s,e as E}from"./index-Dv256yl2.js";import{u as I}from"./index.esm-B1Gcm8L9.js";import{c as e,W as C}from"./Wrapper-DVa65dbI.js";import{L as P}from"./Loader-CSOVF8pK.js";import{P as k}from"./react-bootstrap-pagination-control.esm-CVHTHudg.js";import{f as D}from"./index-BFun7bdA.js";import"./iconBase-8sBCukzP.js";import"./logo -C1Nz5jdc.js";const V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMUlEQVR4nO2VwWrCQBRF/Uz/yKK4CYIWLRgNxIaOJqGpRtSMxiyEVtpF0ShlsGTnwra71sIUBYXSiJVkBknegbuZ1eFeHpNIRIF0UfFuWgPCM+mi4v1bUOs4hHJG6zgEBIMADQYFGjyLBvHoaRu/t1PCTJAlIBiUeDSI4UiiPjFL4iGI4UiiPjFL4iGI4UiiPjFLQDDUBlOXNU9Uu+RQKlp3jdoODSst+/40QekWk8Xyg/JKEwSXnBus6pbLc2JzOD4q2Gg7071gQTYwT0G9NzoqKCLT2gtelJRkfzx55yVoP87o9OX1oNzzfPGWKSnJX79FtlwXMEdJw36gEx/JjVxOUgXfL23TZKFmWBXNcuW7wXwXScfr66b9FXayV+g7lZc/BVFdIXPoisjs/Wnu3PkBMoHLJuoJkjoAAAAASUVORK5CYII=",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADsElEQVR4nO1Za0hUQRRe+6FF/4Ige0CPn/3KCsp+3I3WgkAkLdJfQaRRRtGDgiBI6SUVWEE+onTVlcQXKmZmUBKomO+3rkXqrimrbeVa+bh74szdu9277ubOXe/eVfeD82fmnpn5Zs45c84dFaNKgaUgKlcdvgpm2RNhfMBsGIGFSD6RRU/EZLQQxfjQYsVJxO8rJmsxGSz0RHR3m8DXkH27kZ6IJjCNkOFPRkmYDBZCAtdETURJv+FBo+MnwvhPJMVvWozfR1RiM7BauWiiDpAvYqkDuKiFc8kWtca/TpJJIoO1ovbJn9MgFagrHCtqfRZpHxuelI9IZ+0ImeTigVJRe33loGQida8GRGNdDisj7R01I/IR0SY2kEkqMntE7XG7CoCdtdkdBVDn1I580VhvsntJX8bNj/IRid6SAyxrhekpFmJDxAtIvVpLRQJ9IPnchzkbMjPNkjmOb86RjwhKwaM2spDBXjMc3Zgl6ks6+Q5+TczvLxPmP5AQXSXSPbYpGwz676Q/P7mNak2SiBxc9Qz6W8fIhJhQYoot7MedrNL1OTU13O3y593EoYU6OAafnPa3jkHYynT5iaCEr3kBLdXDnJ2zVsh72EoICr+J2aqDrFuNMNhjhi9d34jN4647bgrq4hiIluphMraUNUkigqIJSucWYdt5NDWaIgy/RR3e6XEsTRD9SXhMhJcze4rIjvMOXJrWCYdWi09HKGg2untN9g0w9v+A80yJR2tgFoIIbyIv77f8O50eM5zdWzTnO2zDPv4UUMfRJBk/EZXnpjXQbV68pqVZCs4ejuH3vdHtU3D3dDpqRiBibaZ3iKBzfm4f5y5Ew9wLUYoIL8RPbeOSAgA1kaIn7XZTitogvqE9EUx3hvq4FKXwcbu8RPikEVON07sLF4wEL7Eh+SQhRXON2abzQhqfIU7jXVV6N6IqoatuFLrrRyExpgr2r0idV++1lkvjMxMavF9YOcqJ7Xn2b4XQN5sgdmfBf3UvabjCCvVlL3WPrBOXukJ5EFcNU79nXabwszMsqV1c6UcGa+Uvdef7+YCh1F2UpXc5HUftjZ8PPJz1Pb1SA7RAn6Odh5GTyAV1ib2moAHu+rXD5b5BRB2QQiKTVODl6hjNFCFyPaICPAWGacWJvM3Ve0wEx1CcyJAtrfAEmO7IRkQTmAa5Sc0knisNk9FCngElPb3R3AneQs6dJnoifFrtrPb2tsSH2p6njRKep3koTYJxcz3Lh4ivgVm2RJhFJn8BoFC4Bw/VP5MAAAAASUVORK5CYII=",U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZUlEQVR4nO2WsW6DMBCGvfS5PPSV2hfJ0r5C+wSRMjeTV7aDgQE8eAPkDUeHEqlqA9hG8IfIJ91mpO/zb3wWUny4PbdAA8gkIPC7KNMREk/4Ex+/lSOih+jjlwoXQEPTn44WQBclAXBRSgBclBJ49gT6vndaa9c0jTdU27auruvhW6gAAzDIba2PBMPneT6sr6pqVmJVAd7539OSwRjQB/7WWmucQNd1/4DGkrgHn88Iry7gKxELv9k1OiWxBH7TOTAmsQR+80E2JhELD5nEU0mEwkME7p35kDkBFZiCj5WgrQTGbhvfOQEVmLoqQ4YdRMDnnl8iQWsKhAypWAlKj7mJ4qewMcYVReHKshx2ea54Da/lb4wx2Of0FkVJAFyUEgAXpQT2noC1FgZvrV0u8CgtQwXUOYND07XVTxYucHg/wcHp2oe3U7jA68vnIIFMQp2zgYFZggX20gINIJOAwO/ikiN0Aa7PK1Jk9WjnAAAAAElFTkSuQmCC",X=()=>{const{res:a,fetchData:i,isLoading:f}=I(),[o,n]=d.useState({completed:0,cancelled:0,pending:0,total:0}),v=async()=>{i("/admin/get-order-count-by-status")};return d.useEffect(()=>{v()},[]),d.useEffect(()=>{var l,h,m,p,A,x,g,j,u,t,c;if((a==null?void 0:a.status)===200||(a==null?void 0:a.status)===201){let N=0;(h=(l=a==null?void 0:a.data)==null?void 0:l.data)==null||h.forEach(r=>{N+=r.count}),n({cancelled:((A=(p=(m=a==null?void 0:a.data)==null?void 0:m.data)==null?void 0:p.find(r=>r.status==="Cancelled"))==null?void 0:A.count)||0,completed:((j=(g=(x=a==null?void 0:a.data)==null?void 0:x.data)==null?void 0:g.find(r=>r.status==="Completed"))==null?void 0:j.count)||0,pending:((c=(t=(u=a==null?void 0:a.data)==null?void 0:u.data)==null?void 0:t.find(r=>r.status==="Pending"))==null?void 0:c.count)||0,total:N||0})}},[a]),s.jsx("div",{className:e.main,children:s.jsxs("div",{className:e["box-container"],children:[s.jsxs("div",{className:`${e.box} ${e.box1}`,children:[s.jsxs("div",{className:e.text,children:[s.jsx("h2",{className:e["topic-heading"],children:o.total}),s.jsx("h2",{className:e.topic,children:"Total Orders"})]}),s.jsx("img",{src:V,alt:"total-orders"})]}),s.jsxs("div",{className:`${e.box} ${e.box2}`,children:[s.jsxs("div",{className:e.text,children:[s.jsx("h2",{className:e["topic-heading"],children:o.completed}),s.jsx("h2",{className:e.topic,children:"Completed Orders"})]}),s.jsx("img",{src:"https://media.geeksforgeeks.org/wp-content/uploads/20221210185029/13.png",alt:"completed-orders"})]}),s.jsxs("div",{className:`${e.box} ${e.box3}`,children:[s.jsxs("div",{className:e.text,children:[s.jsx("h2",{className:e["topic-heading"],children:o.pending}),s.jsx("h2",{className:e.topic,children:"Pending Orders"})]}),s.jsx("img",{src:J,alt:"pending-orders"})]}),s.jsxs("div",{className:`${e.box} ${e.box4}`,children:[s.jsxs("div",{className:e.text,children:[s.jsx("h2",{className:e["topic-heading"],children:o.cancelled}),s.jsx("h2",{className:e.topic,children:"Cancelled Orders"})]}),s.jsx("img",{src:U,alt:"cancelled-orders"})]})]})})},R=()=>{const a=E(),{res:i,fetchData:f,isLoading:o}=I(),[n,v]=d.useState([]),[l,h]=d.useState({startDate:"",endDate:"",status:""}),[m,p]=d.useState(1),[A,x]=d.useState(1),g=async t=>{x(t)},j=t=>{const{name:c,value:N}=t.target;h({...l,[c]:N})};console.log("filters",l);const u=async()=>{f(`/admin/get-recent-orders?page=${A}&status=${l.status}`)};return d.useEffect(()=>{u()},[l.status,A,l.startDate,l.endDate]),d.useEffect(()=>{var t,c;((i==null?void 0:i.status)===200||(i==null?void 0:i.status)===201)&&(v(i==null?void 0:i.data.data),p(Number((c=(t=i==null?void 0:i.data)==null?void 0:t.pagination)==null?void 0:c.totalPages)))},[i]),s.jsx(C,{children:s.jsxs("div",{style:{width:"100%"},children:[s.jsx(X,{}),s.jsxs("div",{className:e["report-container"],children:[s.jsxs("div",{className:e["report-header"],children:[s.jsx("h1",{className:e["recent-Articles"],children:"Orders"}),s.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[s.jsxs("select",{name:"status",value:l.status,onChange:j,className:e.filter_input,children:[s.jsx("option",{value:"",children:"Select Status"}),s.jsx("option",{value:"Pending",children:"Pending"}),s.jsx("option",{value:"OutOfDelivery",children:"OutOfDelivery"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),s.jsx("button",{onClick:()=>a("/admin/orders"),className:e.view,children:"View All"})]})]}),s.jsxs("div",{className:e["report-body"],children:[s.jsxs("div",{className:e["report-topic-heading"],children:[s.jsx("h3",{className:e["t-op"],style:{width:"200px"},children:"Order Id"}),s.jsx("h3",{className:e["t-op"],children:"Order Date"}),s.jsx("h3",{className:`${e["t-op"]}`,children:"Status"}),s.jsx("h3",{className:`${e["t-op"]}`,children:"Order Value"}),s.jsx("h3",{className:e["t-op"],children:"Details"})]}),s.jsxs("div",{className:e.items,children:[!o&&(n==null?void 0:n.length)===0&&s.jsx("p",{children:"No orders found"}),o&&(n==null?void 0:n.length)===0&&s.jsx(P,{}),n==null?void 0:n.map((t,c)=>s.jsxs("div",{className:`${e.item1} ${e.cursor}`,children:[s.jsx("h3",{className:`${e["t-op-nextlvl"]}`,style:{width:"200px"},children:t.orderId}),s.jsx("h3",{className:e["t-op-nextlvl"],children:D(new Date(t.createdAt),"dd-MM-yyyy")}),s.jsx("h3",{className:`${e["t-op-nextlvl"]} ${e.status} ${t.status==="Cancelled"?e.Cancelled:t.status==="Completed"?e.Completed:t.status==="pending"?e.pending:e.OutOfDelivery}`,children:t.status}),s.jsxs("h3",{className:`${e["t-op-nextlvl"]}`,children:["â‚¹",t.orderValue]}),s.jsx("h3",{className:e["t-op-nextlvl"],children:s.jsx("button",{onClick:()=>a(`/admin/Orders/${t._id}`,{state:t}),className:e.button,children:"View Details"})})]},c))]}),s.jsx("div",{style:{marginTop:"20px"},children:s.jsx(k,{changePage:g,limit:10,page:A,total:m+"0"})})]})]})]})})};export{R as default};
