import{r as s,e as g,j as e,_ as f,f as b}from"./index-A8F5s_OX.js";import{W as h}from"./Wrapper-Bob4AYsk.js";import{c}from"./Banner.module-CgHYAcNB.js";import{u as x}from"./useAuthorization-DWbqz1ak.js";import{U as j}from"./UpdateBannerModal-CV-_1pGj.js";import"./logo -C1Nz5jdc.js";import"./index.esm-MqVG0Kzl.js";import"./iconBase-i28GCwjE.js";import"./index.esm-Dl0gbRna.js";import"./usePostApiReq-Cj9USDwk.js";const I=()=>{x();const[a,r]=s.useState({file:null,preview:null});g();const[p,n]=s.useState(!1),[l,m]=s.useState({img:"",type:"",page:"",section:""}),u=t=>{const i=t.target.files[0];r(()=>({file:i,preview:URL.createObjectURL(i)}))},d=async()=>{if(a.file===null){f.error("Please select the image");return}m({img:a.file,type:"product-banner",page:"product-banners",section:"app-productpage"}),n(!0)},o=async()=>{try{const t=await b.get("https://abhicares.com/api/content/get-banners",{params:{type:"product-banner",page:"product-banners",section:"app-productpage"}});r({file:null,preview:`https://storage.googleapis.com/abhicares-backend-bucket/${t.data.banners.image}`}),console.log("response1",t)}catch(t){console.log(t.message)}};return s.useEffect(()=>{o()},[]),e.jsxs(e.Fragment,{children:[e.jsx(h,{children:e.jsxs("div",{className:c.otherBanners,children:[e.jsxs("div",{className:c.bannerContainer,children:[e.jsx("h4",{children:"Product Banner"}),a.preview&&e.jsx("img",{src:a.preview,alt:"banner"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>u(t),className:"mb-2"})]}),e.jsx("div",{className:"d-flex justify-content-end mx-5 mt-4",children:e.jsx("button",{type:"button",className:"btn btn-primary",onClick:d,children:"Update"})})]})}),p&&e.jsx(j,{getBannersFromServer:o,setIsModalOpen:n,data:l})]})};export{I as default};
