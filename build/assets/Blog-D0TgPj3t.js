import{r,j as e,L as o,f as c}from"./index-DcmPn4CU.js";import{c as s,A as N}from"./style.module-DOFbrjUh.js";import{C as k}from"./index-C_j_rsmk.js";/* empty css               */import{W as v}from"./WebsiteWrapper-CBbZpn7g.js";import"./LogoutModal-Di1XuGXS.js";import"./iconBase-BJ2zDtiE.js";import"./rolling-white-BBE_8u84.js";import"./index.esm-7S8pM4Fp.js";import"./Button-D4N1S2yu.js";import"./index.esm-COsu3BVV.js";const S=()=>{const p={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:4},tablet:{breakpoint:{max:1024,min:768},items:3},mobile:{breakpoint:{max:520,min:0},items:2},largemobile:{breakpoint:{max:520,min:0},items:1}},[h,l]=r.useState([]);return r.useEffect(()=>{(async()=>{try{const j=(await c.get("https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/posts")).data.map(async n=>{if(n.featured_media){const u=await c.get(`https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/media/${n.featured_media}`);return{...n,featured_image:u.data}}return n}),f=await Promise.all(j);l(f)}catch(x){console.error("Error fetching data:",x)}})()},[]),e.jsx("div",{className:"wrapper",children:e.jsxs("div",{className:s["recent-blogs-wrapper"],children:[e.jsx("h1",{children:"Recent blogs"}),e.jsx(k,{swipeable:!0,draggable:!0,showDots:!1,responsive:p,ssr:!0,infinite:!0,autoPlaySpeed:1e3,keyBoardControl:!0,customTransition:"0.5s ease-in",transitionDuration:500,containerClass:"carousel-container",removeArrowOnDeviceType:["tablet","mobile"],itemClass:"carousel-item-padding-40-px",children:h.map(i=>e.jsxs("div",{className:s["recent-blogs-cards"],children:[e.jsx("div",{className:s["blog-swiper-thumbnail"],children:e.jsx(o,{to:`/single-blog/${i.id}`,children:e.jsx("img",{src:i.featured_image.source_url,alt:"image"})})}),e.jsxs("div",{className:s["blog-content"],children:[e.jsx("div",{className:s["authoring-date"],children:e.jsx("span",{children:new Date(i.date).toLocaleDateString()})}),e.jsx("div",{className:s["blog-name"],children:e.jsx("h5",{children:e.jsx(o,{to:`/single-blog/${i.id}`,children:i.title.rendered})})}),e.jsx("div",{className:s["read-more"],children:e.jsxs(o,{to:`/single-blog/${i.id}`,children:["Read more ",e.jsx(N,{})]})})]})]},i.id))})]})})},F=()=>{const[p,h]=r.useState(!0),[l,i]=r.useState({}),[x,j]=r.useState([]);r.useEffect(()=>{(async()=>{try{const a=await c.get("https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/categories");j(a.data);const b=a.data.map(async d=>{const m=await c.get(`https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/posts?categories=${d.id}`);console.log("res",m);const D=m.data.map(async g=>{if(g.featured_media){const $=await c.get(`https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/media/${g.featured_media}`);return{...g,featured_media_data:$.data}}return g}),_=await Promise.all(D);return{category:d,posts:_}}),y=await Promise.all(b),w={};y.forEach(({category:d,posts:m})=>{w[d.id]={name:d.name,posts:m}}),i(w)}catch(a){console.error("Error fetching data:",a)}finally{h(!1)}})()},[]);const[f,n]=r.useState({title:"",description:""}),u=async()=>{try{const{data:t}=await c.get("https://abhicares.com/api/content/get-seo-by-page-user-side?page=blogs"),{seoTitle:a,seoDescription:b}=t==null?void 0:t.seo;n({title:a,description:b})}catch(t){console.log(t)}};return r.useEffect(()=>{u()},[]),p?e.jsx(v,{children:e.jsx("div",{className:s["recent-blogs-wrapper-loading"],children:e.jsx("div",{className:s.loading,children:e.jsx("h1",{children:"....Loading"})})})}):e.jsx(v,{children:e.jsxs("div",{className:s.wrapper,children:[e.jsx(S,{}),e.jsx("div",{className:s["recent-blogs-wrapper"],children:e.jsx("div",{children:Object.keys(l).map(t=>e.jsxs("div",{children:[e.jsx("h1",{children:l[t].name}),e.jsxs("div",{className:s["category-wrapper"],children:[e.jsx("div",{className:s["blogs-container"],children:l[t].posts.slice(0,4).map(a=>e.jsxs("div",{className:s["blog-cards"],children:[e.jsx("div",{className:s["blog-thumbnail"],children:a.featured_media_data&&e.jsx(o,{to:`/single-blog/${a.id}`,children:e.jsx("img",{src:a.featured_media_data.source_url,alt:""})})}),e.jsxs("div",{className:s["blog-content"],children:[e.jsx("div",{className:s["authoring-date"],children:e.jsx("span",{children:new Date(a.date).toLocaleDateString()})}),e.jsx("div",{className:s["blog-name"],children:e.jsx("h5",{children:e.jsx(o,{to:`/single-blog/${a.id}`,children:a.title.rendered})})}),e.jsx("div",{className:s["read-more"],children:e.jsxs(o,{to:`/single-blog/${a.id}`,children:["Read more ",e.jsx(N,{})]})})]})]},a.id))}),e.jsx("div",{className:s["view-more-button"],children:e.jsx("button",{className:s.btn,children:e.jsx(o,{to:`/blog-category/${t}`,children:"View More"})})})]})]},t))})})]})})};export{F as default};
