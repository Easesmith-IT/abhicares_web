import{r as i,j as e,L as h,f as l,u as f}from"./index-A8F5s_OX.js";import{c as s,A as w}from"./style.module-pOBwHowV.js";import{W as p}from"./WebsiteWrapper-BxSd_jWQ.js";import"./index.esm-MqVG0Kzl.js";import"./iconBase-i28GCwjE.js";import"./rolling-white-BBE_8u84.js";import"./index.esm-zP93D0je.js";import"./Button--Cqrhv7q.js";import"./index.esm-Djloo-GE.js";const b=()=>{const[t,m]=i.useState([]);return i.useEffect(()=>{(async()=>{try{const d=(await l.get("https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/posts")).data.map(async a=>{if(a.featured_media){const n=await l.get(`https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/media/${a.featured_media}`);return{...a,featured_image:n.data}}return a}),g=await Promise.all(d);m(g)}catch(o){console.error("Error fetching data:",o)}})()},[]),e.jsx("div",{className:"wrapper",children:e.jsxs("div",{className:s["recent-blogs-wrapper"],children:[e.jsx("h1",{children:"Recent blogs"}),e.jsx("div",{className:s["blogs-sidebar-inner"],children:t.slice(0,3).map(r=>e.jsxs("div",{className:s["recent-blogs-cards"],children:[e.jsx("div",{className:s["blog-swiper-thumbnail"],children:e.jsx(h,{to:`/single-blog/${r.id}`,children:e.jsx("img",{src:r.featured_image.source_url,alt:"image"})})}),e.jsxs("div",{className:s["blog-content"],children:[e.jsx("div",{className:s["authoring-date"],children:e.jsx("span",{children:new Date(r.date).toLocaleDateString()})}),e.jsx("div",{className:s["blog-name"],children:e.jsx("h5",{children:e.jsx(h,{to:`/single-blog/${r.id}`,children:r.title.rendered})})}),e.jsx("div",{className:s["read-more"],children:e.jsxs(h,{to:`/single-blog/${r.id}`,children:["Read moreÂ ",e.jsx(w,{})]})})]})]},r.id))})]})})},$=()=>{const[t,m]=i.useState(null),[r,o]=i.useState(!0),[d,g]=i.useState(null),{id:a}=f(),n=a,u=window.innerWidth;return i.useEffect(()=>{(async()=>{try{const c=await l.get(`https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/posts/${n}`),j=c.data.featured_media,x=(await l.get(`https://palegoldenrod-ibis-456811.hostingersite.com/wp-json/wp/v2/media/${j}`)).data.source_url;m({...c.data,featuredImageUrl:x})}catch(c){g(c)}finally{o(!1)}})()},[n]),r?e.jsx(p,{children:e.jsx("div",{className:s["recent-blogs-wrapper-loading"],children:e.jsx("div",{className:s.loading,children:e.jsx("h1",{children:"....Loading"})})})}):d?e.jsxs("p",{children:["Error: ",d.message]}):t?e.jsxs(p,{children:[e.jsx("div",{className:s["featured-image"],children:e.jsx("img",{src:t.featuredImageUrl,alt:"image"})}),e.jsxs("div",{className:s["each-blog-container-wrapper"],children:[e.jsxs("div",{className:s["recent-blogs-wrapper"],style:{margin:u<520?"0.2rem 0.4rem":""},children:[e.jsx("h2",{children:t.title.rendered}),e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content.rendered}})]}),e.jsx(b,{})]})]}):e.jsxs("p",{children:["No post found with ID ",n]})};export{$ as default};
